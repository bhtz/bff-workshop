@page "/continents"
@using Microscope.Boilerplate.Clients.SDK.GraphQL.Components
@using Microsoft.AspNetCore.Authorization
@using Microscope.Boilerplate.Clients.SDK.GraphQL
@inject BFFClient BffClient;
@attribute [Authorize]
@attribute [StreamRendering]

<PageTitle>Continents</PageTitle>
<MudText Typo="Typo.h3" GutterBottom="true">Continents</MudText>
<MudText Class="mb-8">This component demonstrates fetching data from the BFF server as GraphQL gateway & using strawberryshake graphql generated SDK</MudText>

<UseGetContinents Context="result">
    <ChildContent>
        <MudPaper>
            <MudList>
                @foreach (var item in result.Continents)
                {
                    <MudListItem Icon="@Icons.Material.Filled.List">@item.Name</MudListItem>
                }
            </MudList>
        </MudPaper>
    </ChildContent>
    <ErrorContent>
        @result.First().Message
    </ErrorContent>
    <LoadingContent>
        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="50px" />
        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="50px" Class="mt-4" />
    </LoadingContent>
</UseGetContinents>
